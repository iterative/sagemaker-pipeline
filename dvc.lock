schema: '2.0'
stages:
  prepare:
    cmd:
    - curl 
      https://sagemaker-sample-data-us-west-2.s3-us-west-2.amazonaws.com/autopilot/direct_marketing/bank-additional.zip
      -o bank-additional.zip
    - python sm_prepare.py --bucket dave-sandbox --prefix sagemaker/DEMO-xgboost-dm
    deps:
    - path: 
        https://sagemaker-sample-data-us-west-2.s3-us-west-2.amazonaws.com/autopilot/direct_marketing/bank-additional.zip
      hash: md5
      checksum: '"7e1251f64f0853895d094700448216ee"'
      size: 432828
    - path: sm_prepare.py
      hash: md5
      md5: bf60499ea4a57811cdfdabec4343c3aa
      size: 653
    outs:
    - path: s3://dave-sandbox/sagemaker/DEMO-xgboost-dm/input_data
      hash: md5
      md5: 735e1d275e6d294448e6c5c91c9a20c8.dir
      size: 5146674
      nfiles: 1
  preprocessing:
    cmd: python sm_preprocessing.py --bucket dave-sandbox --prefix sagemaker/DEMO-xgboost-dm
    deps:
    - path: preprocessing.py
      hash: md5
      md5: dbfe48a64c460d7054c65e9044f10bf1
      size: 2336
    - path: s3://dave-sandbox/sagemaker/DEMO-xgboost-dm/input_data
      hash: md5
      md5: 735e1d275e6d294448e6c5c91c9a20c8.dir
      size: 5146674
      nfiles: 1
    - path: sm_preprocessing.py
      hash: md5
      md5: 8a3fc41d7a127e2326c24fc49678bca2
      size: 1711
    outs:
    - path: s3://dave-sandbox/sagemaker/DEMO-xgboost-dm/test
      hash: md5
      md5: 4395b17f71bb1bd5f6e9d0e22e960e81.dir
      size: 506467
      nfiles: 2
    - path: s3://dave-sandbox/sagemaker/DEMO-xgboost-dm/train
      hash: md5
      md5: e2e0dcf49e644f580342279f550ad574.dir
      size: 3545009
      nfiles: 1
    - path: s3://dave-sandbox/sagemaker/DEMO-xgboost-dm/validation
      hash: md5
      md5: 5c3e7e009a90314d9a9531a5b68c45d5.dir
      size: 1012968
      nfiles: 1
  training:
    cmd: python sm_training.py --bucket dave-sandbox --prefix sagemaker/DEMO-xgboost-dm  --max_depth
      5 --eta 0.2 --gamma 4 --min_child_weight 6 --subsample 0.8 --silent 0 --objective
      binary:logistic --num_round 100
    deps:
    - path: s3://dave-sandbox/sagemaker/DEMO-xgboost-dm/train
      hash: md5
      md5: e2e0dcf49e644f580342279f550ad574.dir
      size: 3545009
      nfiles: 1
    - path: s3://dave-sandbox/sagemaker/DEMO-xgboost-dm/validation
      hash: md5
      md5: 5c3e7e009a90314d9a9531a5b68c45d5.dir
      size: 1012968
      nfiles: 1
    - path: sm_training.py
      hash: md5
      md5: 3c3804455d5bf355677fbc8630659084
      size: 3427
    - path: train.py
      hash: md5
      md5: d06e210befac037f4216ea326d9d3e81
      size: 2211
    outs:
    - path: s3://dave-sandbox/sagemaker/DEMO-xgboost-dm/output
      hash: md5
      md5: ad60d9f3bafa5f35403ea433c097ea5d.dir
      size: 393592
      nfiles: 6
